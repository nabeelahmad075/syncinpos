<form
  class="form-horizontal"
  autocomplete="off"
  #createAccountForm="ngForm"
  (ngSubmit)="save()"
>
  <abp-modal-header
    [title]="'Designation | Department' | localize"
    (onCloseClick)="bsModalRef.hide()"
  ></abp-modal-header>
  <div class="modal-body">
    <tabset #myTabset (selectChange)="onTabChange($event)">
      <tab id="designation" [heading]="'Designation' | localize" class="pt-3 px-2">
        <div class="form-group row">
            <label for="designation" class="col-md-3 col-form-label">
              {{ "Designation Title" | localize }}
            </label>
            <div class="col-md-7">
              <input
                type="text"
                class="form-control"
                name="designation"
                id="designation"
                [(ngModel)]="tblDesignation.title"
              />
              <a class="btn bg-blue btnNav" (click)="newDesignation()">
                <i class="fa fa-plus-square"></i>
                Clear
              </a>
            </div>
        </div>
        <div class="container-fluid" style="width: 100%;">
            <div class="card main-content rounded">
              <div class="card-content table-bordered" >
                <p-table
                  #dataTable
                  [value]="primengDesignationTable.records"
                  [lazy]="true"
                  [scrollable]="true"
                  [style]="{ width: '100%', fontSize:'0.8rem'}"
                  (onLazyLoad)="getDesignationHistory($event)"
                  class="p-table-page table-sm table-hover"
                  [rows]="primengDesignationTable.defaultRecordsCountPerPage"
                >
                  <ng-template pTemplate="caption">
                    <div class="d-flex flex-row-reverse">
                      <span>
                        <input
                          pInputText
                          type="text"
                          class="table-search-input form-control w-100"
                          (input)="
                            dataTable.filterGlobal($event.target.value, 'contains')
                          "
                          placeholder="Search"
                        />
                      </span>
                    </div>
                  </ng-template>
                  <ng-template pTemplate="header">
                    <tr class="table-secondary">
                      <th>Designation Title</th>
                      <th style="text-align: center;">Action</th>
                    </tr>
                  </ng-template>
                  <ng-template pTemplate="body" let-designation>
                    <tr>
                      <td>{{ designation.title }}</td>
                      <td style="text-align: center">
                        <a
                        type="button"
                          class="mx-2 edit-btn"
                          (click)="getDesignationById(designation.id)"
                        >
                          <i class="fa fa-pencil"></i>
                      </a>
                      </td>
                    </tr>
                  </ng-template>
                </p-table>
        
                <div
                  class="card-footer table-card-footer text-center my-2"
                  *ngIf="primengDesignationTable.totalRecordsCount == 0"
                >
                  <p class="p-0 m-0">No Data</p>
                </div>
                <span class="" style="margin-left: 15px; font-size: 0.9rem;">
                    {{ primengDesignationTable.totalRecordsCount | number : "2." }} records
                    found!
                  </span>
                <div class="" >
                  <p-paginator
                    [rows]="primengDesignationTable.defaultRecordsCountPerPage"
                    #paginator
                    (onPageChange)="getDesignationHistory($event)"
                    [totalRecords]="primengDesignationTable.totalRecordsCount"
                    [rowsPerPageOptions]="
                      primengDesignationTable.predefinedRecordsCountPerPage"
                      >
                  </p-paginator>
        
                </div>
              </div>
            </div>
          </div>
      </tab>
      <tab id="department" [heading]="'Department' | localize" class="pt-3 px-2">
        <div class="form-row form-group">
          <div class="col-md-4">
            <label for="company">
              {{ "Department Title" | localize }}
            </label>
            <input
              style="margin-top: -8px"
              type="text"
              class="form-control"
              name="company"
              id="company"
              value="{{ tblDepartment.title }}"
            />
          </div>
        </div>
      </tab>
    </tabset>
  </div>
  <abp-modal-footer
    [cancelDisabled]="saving"
    [saveLabel]="this.id > 0 ? 'Update' : 'Save'"
    (onCancelClick)="bsModalRef.hide()"
  ></abp-modal-footer>
</form>
